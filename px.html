<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Loader</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background:#000}
canvas{display:block}
#message{text-align:center;color:#fff;font-size:1.5rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:sans-serif}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div id="message"></div>
<script>
const raw=decodeURIComponent(location.hash.slice(1))
const canvas=document.getElementById('c')
const ctx=canvas.getContext('2d')
let w,h,s=0
function resize(){w=canvas.width=window.innerWidth;h=canvas.height=window.innerHeight}
window.addEventListener('resize',resize)
resize()
function draw(){
  ctx.clearRect(0,0,w,h)
  const cx=w/2,cy=h/2,n=8,r=Math.min(w,h)/3
  for(let i=0;i<n;i++){
    const a=(s+i/n)*Math.PI*2
    const x=cx+Math.cos(a)*r,y=cy+Math.sin(a)*r
    ctx.beginPath()
    ctx.arc(x,y,20,0,Math.PI*2)
    ctx.fillStyle=`hsl(${(i/n*360+s*360)%360},80%,60%)`
    ctx.fill()
  }
  s+=0.002
  requestAnimationFrame(draw)
}
if(raw){
  document.getElementById('message').textContent='Loading... 読み込み中...'
  draw()
  setTimeout(()=>location.href=raw,2000)
}else{
  document.getElementById('message').textContent='Specify URL after # / URLを#の後に指定してください'
}
</script>
  <script src="./uv/uv.bundle.js"></script>
  <script src="./uv/uv.config.js"></script>
  <script src="./assets/register-sw.js"></script>
  <script src="./assets/script.js" defer></script>

</body>
</html>
